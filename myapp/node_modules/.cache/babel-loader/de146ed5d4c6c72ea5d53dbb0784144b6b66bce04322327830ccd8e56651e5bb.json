{"ast":null,"code":"import _regeneratorRuntime from\"/Users/sharusan/MeetMyCar/myapp/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/sharusan/MeetMyCar/myapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/sharusan/MeetMyCar/myapp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useRef,useState}from'react';import{Form}from'react-bootstrap';import{useAuth}from'./AuthContext';import{Popup}from'reactjs-popup';import{Link,useNavigate}from'react-router-dom';import'./UpdateProfile_css.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var UpdateProfile=function UpdateProfile(){var usernameRef=useRef();var emailRef=useRef();var passwordRef=useRef();var passwordConfirmRef=useRef();var profilePictureRef=useRef();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),userId=_useState2[0],setUserId=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),firstname=_useState4[0],setfirstName=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),lastname=_useState6[0],setlastName=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),username=_useState8[0],setuserName=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),profilePicture=_useState10[0],setprofilePicture=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),vehicles=_useState12[0],setVehicles=_useState12[1];var _useAuth=useAuth(),currentUser=_useAuth.currentUser,logout=_useAuth.logout,sendEmailVerify=_useAuth.sendEmailVerify,updateEmail=_useAuth.updateEmail,updatePassword=_useAuth.updatePassword,deleteUser=_useAuth.deleteUser;var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),emailChanging=_useState14[0],setemailChanging=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),confirmDeleteUser=_useState16[0],setconfirmDeleteUser=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),openDeleteModal=_useState18[0],setOpenDeleteModal=_useState18[1];var _useState19=useState(''),_useState20=_slicedToArray(_useState19,2),error=_useState20[0],setError=_useState20[1];var _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),loading=_useState22[0],setLoading=_useState22[1];var navigate=useNavigate();useEffect(function(){function fetchUserData(){return _fetchUserData.apply(this,arguments);}function _fetchUserData(){_fetchUserData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var firebaseUID,response,data,errorData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return updateUser();case 2:_context.prev=2;setError('');// fetches the user data with firebase ID\nfirebaseUID=currentUser.uid;// console.log(firebaseUID)\n_context.next=7;return fetch(\"http://localhost:3001/users?userfb=\".concat(encodeURIComponent(firebaseUID)),{method:'GET',headers:{'accept':'application/json'}});case 7:response=_context.sent;if(!response.ok){_context.next=22;break;}_context.next=11;return response.json();case 11:data=_context.sent;// updates user's data states\nsetUserId(data.userData._id);setfirstName(data.userData.firstname);setlastName(data.userData.lastname);setuserName(data.userData.username);setprofilePicture(data.userData.profilePicture);setVehicles(data.userData.vehicles);console.log(\"Fetched User Details:\",data);return _context.abrupt(\"return\",data);case 22:_context.next=24;return response.json();case 24:errorData=_context.sent;setError(\"Failed To Fetch User Data\");throw new Error(errorData.message);case 27:_context.next=33;break;case 29:_context.prev=29;_context.t0=_context[\"catch\"](2);console.error(\"Error Fetching User Data:\",_context.t0);setError(\"Failed To Fetch User Data\");case 33:case\"end\":return _context.stop();}},_callee,null,[[2,29]]);}));return _fetchUserData.apply(this,arguments);}fetchUserData();},[currentUser.uid]);// handles updates to user account\nvar updateUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var formData,firebaseUID,response,errorData;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:formData=new FormData();if(profilePictureRef.current&&profilePictureRef.current.files[0]){formData.append('profilePicture',profilePictureRef.current.files[0]);}formData.append('email',emailRef.current.value);_context2.prev=3;// console.log(\"Updated Email: \", updatedEmail)\nsetLoading(true);setError('');firebaseUID=currentUser.uid;// console.log(firebaseUID)\n// amends user's data into database\n_context2.next=9;return fetch(\"http://localhost:3001/users/update?userfb=\".concat(encodeURIComponent(firebaseUID)),{method:'PUT',body:formData});case 9:response=_context2.sent;if(!response.ok){_context2.next=14;break;}console.log(\"Updated User Details\");_context2.next=20;break;case 14:_context2.next=16;return response.json();case 16:errorData=_context2.sent;setError(\"Failed To Update User Details\");console.error(\"Error Updating User Details:\",error);throw new Error(errorData.message);case 20:_context2.next=26;break;case 22:_context2.prev=22;_context2.t0=_context2[\"catch\"](3);console.error(\"Error Updating User Details:\",_context2.t0);setError(\"Failed To Update User Details\");case 26:_context2.prev=26;setLoading(false);return _context2.finish(26);case 29:case\"end\":return _context2.stop();}},_callee2,null,[[3,22,26,29]]);}));return function updateUser(){return _ref.apply(this,arguments);};}();// handles update user submission\nfunction handleSubmit(_x){return _handleSubmit.apply(this,arguments);}// handle delete user's account\nfunction _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(e){var toupdate;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:e.preventDefault();// validates password meets requirement\nif(!passwordRef.current.value.length){_context3.next=6;break;}if(!(passwordRef.current.value!==passwordConfirmRef.current.value)){_context3.next=4;break;}return _context3.abrupt(\"return\",setError(\"Password do not match\"));case 4:if(!(passwordRef.current.value.length<6&&passwordConfirmRef.current.value.length<6)){_context3.next=6;break;}return _context3.abrupt(\"return\",setError(\"Password Too Short\"));case 6:toupdate=[];setLoading(true);setError('');// checks if any of the field has been changed\nif(!(emailRef.current.value!==currentUser.email)){_context3.next=23;break;}_context3.prev=10;_context3.next=13;return toupdate.push(updateEmail(emailRef.current.value));case 13:console.log(\"Email Updating...\");toupdate.push(updateUser());navigate(\"/verify?newEmail=\".concat(encodeURIComponent(emailRef.current.value)));return _context3.abrupt(\"return\");case 19:_context3.prev=19;_context3.t0=_context3[\"catch\"](10);setError(_context3.t0);console.log(_context3.t0);case 23:if(passwordRef.current.value.length>0&&passwordRef.current.value!==currentUser.password){console.log(\"Password Updating...\");toupdate.push(updatePassword(passwordRef.current.value));}if(profilePictureRef.current.value!==profilePicture){console.log(\"Profile Picture Updating...\");toupdate.push(updateUser());}// adds all changes to a list and updates all changes\nPromise.all(toupdate).then(function(){navigate('/setting');}).catch(function(error){console.log(\"Failed to Update Account\",error);if(error.code==='auth/operation-not-allowed'){setError(\"Verify Current Email Address\");sendEmailVerify();}else if(error.code==='auth/requires-recent-login'){setError(\"Login Session Timeout\");setTimeout(function(){logout();},2000);}else{setError(\"Failed to Update Account\");}}).finally(function(){setLoading(false);});case 26:case\"end\":return _context3.stop();}},_callee3,null,[[10,19]]);}));return _handleSubmit.apply(this,arguments);}function handleDelete(_x2){return _handleDelete.apply(this,arguments);}// handle image input, and display new inserted image\nfunction _handleDelete(){_handleDelete=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(e){var response,errorData;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:e.preventDefault();// opens delete confirmation\nif(confirmDeleteUser){_context4.next=5;break;}setconfirmDeleteUser(true);setOpenDeleteModal(true);return _context4.abrupt(\"return\");case 5:setLoading(true);setError('');_context4.prev=7;_context4.next=10;return fetch(\"http://localhost:3001/users/delete?userfb=\".concat(encodeURIComponent(userId)),{method:'DELETE'});case 10:response=_context4.sent;if(!response.ok){_context4.next=16;break;}console.log(\"Deleted User\");// deletes account in firebase database\ndeleteUser();_context4.next=22;break;case 16:_context4.next=18;return response.json();case 18:errorData=_context4.sent;setError(\"Failed To Delete User\");console.error(\"Error Deleting User:\",error);throw new Error(errorData.message);case 22:_context4.next=28;break;case 24:_context4.prev=24;_context4.t0=_context4[\"catch\"](7);console.error(\"Error Deleting User:\",_context4.t0);setError(\"Failed To Delete User\");case 28:_context4.prev=28;setLoading(false);return _context4.finish(28);case 31:case\"end\":return _context4.stop();}},_callee4,null,[[7,24,28,31]]);}));return _handleDelete.apply(this,arguments);}function handleImageInput(e){setprofilePicture(URL.createObjectURL(e.target.files[0]));}// handle email change\nvar handleEmailChange=function handleEmailChange(){setemailChanging(true);};// handle delete modal\nvar handleCloseDelete=function handleCloseDelete(){setOpenDeleteModal(false);setconfirmDeleteUser(false);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"header\",{className:\"updateHeader\",children:[/*#__PURE__*/_jsxs(\"h1\",{id:\"login_text\",children:[\"Update Profile\",/*#__PURE__*/_jsx(\"p\",{id:\"slogan_text\",children:\"Amend Your Details\"})]}),/*#__PURE__*/_jsxs(\"h3\",{className:\"updateName\",children:[firstname,\" \",lastname]})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"updateForm\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"p\",{className:\"w-100 text-center mt-0 mb-0\",id:\"error_Msg\",children:error}),/*#__PURE__*/_jsxs(Form.Group,{className:\"formBox\",id:\"username\",children:[/*#__PURE__*/_jsx(Form.Label,{className:\"formLabel\",children:\"Username\"}),/*#__PURE__*/_jsx(Form.Control,{className:\"formInput\",type:\"text\",ref:usernameRef,defaultValue:username,disabled:true})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"formBox\",id:\"email\",children:[/*#__PURE__*/_jsx(Form.Label,{className:\"formLabel\",children:\"Email\"}),/*#__PURE__*/_jsx(Form.Control,{className:\"formInput\",type:\"email\",ref:emailRef,defaultValue:currentUser.email,onChange:handleEmailChange,required:true})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"formBox\",id:\"password\",children:[/*#__PURE__*/_jsx(Form.Label,{className:\"formLabel\",children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{className:\"formInput\",type:\"password\",ref:passwordRef,placeholder:emailChanging?'Cannot Be Updated While Email Updating':'Leave Blank to keep the same',disabled:emailChanging})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"formBox\",id:\"passwordConfirmation\",children:[/*#__PURE__*/_jsx(Form.Label,{className:\"formLabel\",children:\"Password Confirmation\"}),/*#__PURE__*/_jsx(Form.Control,{className:\"formInput\",type:\"password\",ref:passwordConfirmRef,placeholder:emailChanging?'Cannot Be Updated While Email Updating':'Leave Blank to keep the same',disabled:emailChanging})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"formBox\",id:\"profilePicture\",children:[/*#__PURE__*/_jsx(Form.Label,{className:\"formLabel\",children:\"Profile Picture\"}),profilePicture&&/*#__PURE__*/_jsx(\"img\",{src:profilePicture,alt:\"Profile\",className:\"profileImg\"}),/*#__PURE__*/_jsx(Form.Control,{className:\"formInput\",type:\"file\",ref:profilePictureRef,placeholder:\"Insert Image\",defaultValue:profilePicture,onChange:handleImageInput,accept:\"image/*\"})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"formBox\",id:\"vehicles\",children:[/*#__PURE__*/_jsx(Form.Label,{className:\"formLabel\",children:\"Look At Your Vehicles\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"formVehicle\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",disabled:true,children:\"VRN\"}),vehicles.map(function(vehicle){return/*#__PURE__*/_jsxs(\"option\",{value:vehicle.vehicleId,children:[\" \",vehicle.vrn,\" \"]},vehicle.vehicleId);})]})]}),/*#__PURE__*/_jsx(\"button\",{disabled:loading,className:\"btn btn-dark w-100 mt-2\",type:\"submit\",children:\"Update\"}),confirmDeleteUser?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Popup,{open:openDeleteModal,closeOnDocumentClick:true,onClose:function onClose(){return handleCloseDelete();},className:\"Popup\",children:/*#__PURE__*/_jsx(\"div\",{className:\"UpdateModal\",children:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"deleteheading\",children:[\"Confirm deletion of \",/*#__PURE__*/_jsx(\"strong\",{children:usernameRef.current.value}),\"'s account? \"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"deletelst\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"deletebtn\",children:[/*#__PURE__*/_jsx(\"button\",{disabled:loading,className:\"btn btn-dark w-100\",variant:\"cancel\",onClick:function onClick(){return handleCloseDelete();},children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{disabled:loading,className:\"btn btn-danger w-100\",variant:\"danger\",onClick:handleDelete,children:\"Delete\"})]}),/*#__PURE__*/_jsx(\"p\",{id:\"deletemsg\",children:\"This action is irreversible.\"})]})]})})})}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"button\",{disabled:loading,className:\"btn btn-outline-dark w-100 mt-2\",variant:\"danger\",type:\"submit\",onClick:handleDelete,children:\"Delete Account\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"cancelMsg\",children:/*#__PURE__*/_jsx(Link,{to:\"/setting\",className:\"cancelMsg\",children:\"  Go Back Home\"})})]});};export default UpdateProfile;","map":{"version":3,"names":["React","useEffect","useRef","useState","Form","useAuth","Popup","Link","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","UpdateProfile","usernameRef","emailRef","passwordRef","passwordConfirmRef","profilePictureRef","_useState","_useState2","_slicedToArray","userId","setUserId","_useState3","_useState4","firstname","setfirstName","_useState5","_useState6","lastname","setlastName","_useState7","_useState8","username","setuserName","_useState9","_useState10","profilePicture","setprofilePicture","_useState11","_useState12","vehicles","setVehicles","_useAuth","currentUser","logout","sendEmailVerify","updateEmail","updatePassword","deleteUser","_useState13","_useState14","emailChanging","setemailChanging","_useState15","_useState16","confirmDeleteUser","setconfirmDeleteUser","_useState17","_useState18","openDeleteModal","setOpenDeleteModal","_useState19","_useState20","error","setError","_useState21","_useState22","loading","setLoading","navigate","fetchUserData","_fetchUserData","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","firebaseUID","response","data","errorData","wrap","_callee$","_context","prev","next","updateUser","uid","fetch","concat","encodeURIComponent","method","headers","sent","ok","json","userData","_id","console","log","abrupt","Error","message","t0","stop","_ref","_callee2","formData","_callee2$","_context2","FormData","current","files","append","value","body","finish","handleSubmit","_x","_handleSubmit","_callee3","e","toupdate","_callee3$","_context3","preventDefault","length","email","push","password","Promise","all","then","catch","code","setTimeout","finally","handleDelete","_x2","_handleDelete","_callee4","_callee4$","_context4","handleImageInput","URL","createObjectURL","target","handleEmailChange","handleCloseDelete","children","className","id","onSubmit","Group","Label","Control","type","ref","defaultValue","disabled","onChange","required","placeholder","src","alt","accept","map","vehicle","vehicleId","vrn","open","closeOnDocumentClick","onClose","variant","onClick","to"],"sources":["/Users/sharusan/MeetMyCar/myapp/src/UpdateProfile.js"],"sourcesContent":["import React, {useEffect, useRef, useState} from 'react'\nimport {Form} from 'react-bootstrap'\nimport { useAuth } from './AuthContext'\nimport {Popup} from 'reactjs-popup'\nimport {Link, useNavigate} from 'react-router-dom'\n\nimport './UpdateProfile_css.css'\n\nconst UpdateProfile = () => {\n\n    const usernameRef = useRef()\n    const emailRef = useRef()\n    const passwordRef = useRef()\n    const passwordConfirmRef = useRef()\n    const profilePictureRef = useRef()\n\n    const [userId, setUserId] = useState('')\n    const [firstname, setfirstName] = useState('')\n    const [lastname, setlastName] = useState('')\n    const [username, setuserName] = useState('')\n    const [profilePicture, setprofilePicture] = useState('')\n    const [vehicles, setVehicles] = useState([])\n\n    const {currentUser, logout, sendEmailVerify, updateEmail, updatePassword, deleteUser} = useAuth()\n\n    const [emailChanging, setemailChanging] = useState(false)\n    const [confirmDeleteUser, setconfirmDeleteUser] = useState(false)\n    const [openDeleteModal, setOpenDeleteModal] = useState(false)\n\n    const [error, setError] = useState('')\n    const [loading, setLoading] = useState(false)\n    const navigate = useNavigate()\n\n    useEffect(() => {\n        async function fetchUserData(){\n            // fetches current user data after every updates to user, and stores the data into useState, to be used throughout the page.\n            await updateUser()\n            try{\n                setError('')\n                // fetches the user data with firebase ID\n                const firebaseUID = currentUser.uid;\n                // console.log(firebaseUID)\n\n                const response = await fetch(`http://localhost:3001/users?userfb=${encodeURIComponent(firebaseUID)}`, {\n                    method: 'GET',\n                    headers: {\n                        'accept': 'application/json',\n                    },\n                });\n\n                if (response.ok){\n                    const data = await response.json()\n\n                    // updates user's data states\n                    setUserId(data.userData._id)\n                    setfirstName(data.userData.firstname)\n                    setlastName(data.userData.lastname)\n                    setuserName(data.userData.username)\n                    setprofilePicture(data.userData.profilePicture)\n                    setVehicles(data.userData.vehicles)\n\n                    console.log(\"Fetched User Details:\", data)\n                    return data\n                } else{\n                    const errorData = await response.json()\n                    setError(\"Failed To Fetch User Data\")\n                    throw new Error(errorData.message)\n                }\n            }catch (error){\n                console.error(\"Error Fetching User Data:\", error)\n                setError(\"Failed To Fetch User Data\")\n            }\n        }\n        fetchUserData();\n    }, [currentUser.uid]); \n\n    // handles updates to user account\n    const updateUser = async () => {\n\n        const formData = new FormData();\n\n        if (profilePictureRef.current && profilePictureRef.current.files[0]){\n            formData.append('profilePicture', profilePictureRef.current.files[0])\n        }\n\n        formData.append('email', emailRef.current.value)\n\n        try{\n            // console.log(\"Updated Email: \", updatedEmail)\n            setLoading(true)\n            setError('')\n            const firebaseUID = currentUser.uid;\n            // console.log(firebaseUID)\n\n            // amends user's data into database\n            const response = await fetch(`http://localhost:3001/users/update?userfb=${encodeURIComponent(firebaseUID)}`, {\n                method: 'PUT',\n                body: formData,\n            });\n\n            if (response.ok){\n                console.log(\"Updated User Details\")\n            } else{\n                const errorData = await response.json()\n                setError(\"Failed To Update User Details\")\n                console.error(\"Error Updating User Details:\", error)\n                throw new Error(errorData.message)\n            }\n        }catch (error){\n            console.error(\"Error Updating User Details:\", error)\n            setError(\"Failed To Update User Details\")\n        }finally{\n            setLoading(false)\n        }\n    }\n\n    // handles update user submission\n    async function handleSubmit(e){\n        e.preventDefault()\n\n        // validates password meets requirement\n        if(passwordRef.current.value.length){\n            if (passwordRef.current.value !== passwordConfirmRef.current.value){\n                return setError(\"Password do not match\")\n            }\n            if (passwordRef.current.value.length < 6 && passwordConfirmRef.current.value.length < 6 ){\n                return setError(\"Password Too Short\")\n            }\n        }\n\n        const toupdate = []\n        setLoading(true)\n        setError('')\n\n        // checks if any of the field has been changed\n        if (emailRef.current.value !== currentUser.email){\n            try{\n                await toupdate.push(updateEmail(emailRef.current.value))\n                console.log(\"Email Updating...\")\n                toupdate.push(updateUser())\n                navigate(`/verify?newEmail=${encodeURIComponent(emailRef.current.value)}`);\n                return;\n            }catch(error){\n                setError(error)\n                console.log(error)\n            }\n        }\n        if (passwordRef.current.value.length >0 && passwordRef.current.value !== currentUser.password){\n            console.log(\"Password Updating...\")\n            toupdate.push(updatePassword(passwordRef.current.value))\n        }\n        if (profilePictureRef.current.value !==profilePicture){\n            console.log(\"Profile Picture Updating...\")\n            toupdate.push(updateUser())\n        }\n\n        // adds all changes to a list and updates all changes\n        Promise.all(toupdate).then(() => {\n            navigate('/setting')\n        }).catch( (error) => {\n            console.log(\"Failed to Update Account\" , error)\n            if (error.code === 'auth/operation-not-allowed'){\n                setError(\"Verify Current Email Address\")\n                sendEmailVerify()\n            }else if (error.code === 'auth/requires-recent-login'){\n                setError(\"Login Session Timeout\")\n                setTimeout(() => {\n                    logout()\n                }, 2000)\n            }else{\n                setError(\"Failed to Update Account\")\n            }\n        }).finally( () => {\n            setLoading(false)\n        })\n    }\n\n    // handle delete user's account\n    async function handleDelete(e){\n        e.preventDefault()\n\n        // opens delete confirmation\n        if (!confirmDeleteUser){\n            setconfirmDeleteUser(true)\n            setOpenDeleteModal(true)\n            return\n        }\n\n        setLoading(true)\n        setError('')\n\n        try{\n            // sends delete request to database to remove account\n            const response = await fetch(`http://localhost:3001/users/delete?userfb=${encodeURIComponent(userId)}`, {\n                method: 'DELETE',\n            });\n\n            if (response.ok){\n                console.log(\"Deleted User\")\n                // deletes account in firebase database\n                deleteUser()\n            } else{\n                const errorData = await response.json()\n                setError(\"Failed To Delete User\")\n                console.error(\"Error Deleting User:\", error)\n                throw new Error(errorData.message)\n            }\n        }catch (error){\n            console.error(\"Error Deleting User:\", error)\n            setError(\"Failed To Delete User\")\n        }finally{\n            setLoading(false)\n        }\n    }\n\n    // handle image input, and display new inserted image\n    function handleImageInput(e){\n        setprofilePicture(URL.createObjectURL(e.target.files[0]))\n    }\n\n    // handle email change\n    const handleEmailChange = () =>{\n        setemailChanging(true)\n    }\n    \n    // handle delete modal\n    const handleCloseDelete = () => {\n        setOpenDeleteModal(false)\n        setconfirmDeleteUser(false)\n    }   \n    \n  return (\n        <div>\n            <header className='updateHeader'>\n                <h1 id=\"login_text\">\n                    Update Profile\n                    <p id=\"slogan_text\">Amend Your Details</p>\n                </h1>\n                <h3 className='updateName'>{firstname} {lastname}</h3>\n            </header>\n\n            {/* Update Form */}\n            <form className='updateForm' onSubmit={handleSubmit}>\n\n                <p className=\"w-100 text-center mt-0 mb-0\" id=\"error_Msg\">{error}</p>\n\n                <Form.Group className='formBox' id=\"username\">\n                    <Form.Label className='formLabel'>Username</Form.Label>\n                    <Form.Control className='formInput' type=\"text\" ref={usernameRef}  defaultValue={username} disabled/>\n                </Form.Group>   \n                \n                <Form.Group className='formBox' id=\"email\">\n                    <Form.Label className='formLabel'>Email</Form.Label>\n                    <Form.Control className='formInput' type=\"email\" ref={emailRef}  defaultValue={currentUser.email} onChange={handleEmailChange} required/>\n                </Form.Group>            \n                \n                <Form.Group className='formBox' id=\"password\">\n                    <Form.Label className='formLabel'>Password</Form.Label>\n                    {/* check if email is being changed and display message depending on situation */}\n                    <Form.Control className='formInput' type=\"password\" ref={passwordRef} placeholder={emailChanging ? 'Cannot Be Updated While Email Updating' : 'Leave Blank to keep the same'} disabled={emailChanging}/>\n                </Form.Group>\n\n                <Form.Group className='formBox' id=\"passwordConfirmation\">\n                    <Form.Label className='formLabel'>Password Confirmation</Form.Label>\n                    {/* check if email is being changed and display message depending on situation */}\n                    <Form.Control className='formInput' type=\"password\" ref={passwordConfirmRef} placeholder={emailChanging ? 'Cannot Be Updated While Email Updating' : 'Leave Blank to keep the same'} disabled={emailChanging} />\n                </Form.Group>\n\n                <Form.Group className='formBox' id=\"profilePicture\">\n                    <Form.Label className='formLabel'>Profile Picture</Form.Label>\n                    {/* display profile pic */}\n                    {profilePicture && (\n                        <img\n                            src={profilePicture} \n                            alt=\"Profile\"\n                            className='profileImg'\n                        />\n                    )}\n                    <Form.Control className='formInput' type=\"file\" ref={profilePictureRef} placeholder='Insert Image' defaultValue={profilePicture} onChange={handleImageInput}  accept=\"image/*\"/>\n                </Form.Group>\n\n               \n\n                <Form.Group className='formBox' id=\"vehicles\">\n                    <Form.Label className='formLabel'>Look At Your Vehicles</Form.Label>\n                    {/* shows all user's vehicle */}\n                    <select className='formVehicle'>\n                        <option value=\"\" disabled>VRN</option>\n                        {vehicles.map(vehicle => ( \n                            <option key={vehicle.vehicleId} value={vehicle.vehicleId}> {vehicle.vrn} </option>\n                        ))}\n                    </select>\n                </Form.Group>\n\n                <button disabled={loading} className=\"btn btn-dark w-100 mt-2\" type=\"submit\">Update</button>\n                \n            {/* modal for confirm delete */}\n                {confirmDeleteUser ? (\n                    <>\n                        <Popup open={openDeleteModal} closeOnDocumentClick onClose={() => handleCloseDelete()} className='Popup'>\n                            <div className='UpdateModal'>\n                                <>\n                                    <p className='deleteheading'>Confirm deletion of <strong>{usernameRef.current.value}</strong>'s account? </p>\n                                    <div className='deletelst'>\n                                        <div className='deletebtn'>\n                                            <button disabled={loading} className=\"btn btn-dark w-100\" variant=\"cancel\" onClick={() => handleCloseDelete()}>Cancel</button>\n                                            <button disabled={loading} className=\"btn btn-danger w-100\" variant=\"danger\" onClick={handleDelete}>Delete</button>\n                                        </div>\n                                        <p id='deletemsg'>This action is irreversible.</p>      \n                                    </div>\n                                </>\n                            </div>\n                        </Popup>\n                    </>\n                ) :(\n                    <>\n                        <button disabled={loading} className=\"btn btn-outline-dark w-100 mt-2\" variant=\"danger\" type=\"submit\"  onClick={handleDelete}>Delete Account</button>\n                    </>\n                )}\n\n            </form>\n\n            {/* Alternative flow for user's doesnt want to make changes */}    \n            <div className=\"cancelMsg\">\n                <Link to=\"/setting\" className=\"cancelMsg\">  Go Back Home</Link>\n            </div>\n        </div>\n  )\n}\n\nexport default UpdateProfile\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}