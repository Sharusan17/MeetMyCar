{"ast":null,"code":"var _jsxFileName = \"/Users/sharusan/MeetMyCar/myapp/src/RegisterVehicle.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport { Form } from 'react-bootstrap';\nimport { useAuth } from './AuthContext';\nimport { Link, useNavigate } from 'react-router-dom';\nimport './RegisterVehicle_css.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst RegisterVehicle = ({\n  updateImage\n}) => {\n  _s();\n  const [userId, setuserId] = useState('');\n  const {\n    currentUser\n  } = useAuth();\n  const [carData, setCarData] = useState([]);\n  const [makeOptions, setmakeOptions] = useState([]);\n  const [modelOptions, setmodelOptions] = useState([]);\n  const fuelOptions = [\"Petrol\", \"Diesel\", \"Hybrid\", \"Electric\"];\n  const transmissionOptions = [\"Manual\", \"Automatic\", \"Semi-Auto\"];\n  const vehicleReg = useRef();\n  const [vehicleData, setVehicleData] = useState([]);\n  const [vehicleValue, setVehicleValue] = useState([]);\n  const [vehicleMOT, setVehicleMOT] = useState([]);\n  const [vehicleHistory, setVehicleHistory] = useState([]);\n  const [vehicleMake, setvehicleMake] = useState('');\n  const [vehicleModel, setvehicleModel] = useState('');\n  const [vehicleFuel, setvehicleFuel] = useState('');\n  const [vehicleTransmission, setvehicleTransmission] = useState('');\n  const [vehicleImage, setVehicleImage] = useState('');\n  const [selectedMake, setSelectedMake] = useState('');\n  const [selectedModel, setSelectedModel] = useState([]);\n  const [selectedFuel, setSelectedFuel] = useState('');\n  const [selectedTransmission, setSelectedTransmission] = useState('');\n  const [error, setError] = useState('');\n  const [message, setMessage] = useState('');\n  const [loading, setLoading] = useState(false);\n  const navigate = useNavigate();\n  const [vehicleInfo, setVehicleInfo] = useState('');\n  const [showButton, setShowButton] = useState(false);\n  const [showSelectedButton, setShowSelectedButton] = useState(false);\n  const [showOptions, setShowOptions] = useState(false);\n  useEffect(() => {\n    async function CarOp() {\n      setError('');\n      setMessage('');\n      fetch('http://localhost:3001/vehicleAPI/list').then(response => {\n        if (response.ok) {\n          return response.json();\n        } else {\n          throw new Error('Network response was not ok');\n        }\n      }).then(data => {\n        // console.log(\"API Data: \", data);\n\n        setCarData(data.results);\n        const makes = [...new Set(data.results.map(car => car.Make))];\n        const models = [...new Set(data.results.map(car => car.Model))];\n\n        // console.log(\"Make\", makes);\n\n        setmakeOptions(makes);\n        setmodelOptions(models);\n      }).catch(error => {\n        console.error('Error fetching data:', error);\n      });\n    }\n    CarOp();\n  }, []);\n  useEffect(() => {\n    async function fetchUserData() {\n      try {\n        const firebaseUID = currentUser.uid;\n        const response = await fetch(`http://localhost:3001/users/?userfb=${encodeURIComponent(firebaseUID)}`, {\n          method: 'GET',\n          headers: {\n            'accept': 'application/json'\n          }\n        });\n        if (response.ok) {\n          const data = await response.json();\n          setuserId(data.userData._id);\n          console.log(\"Fetched User Details\");\n          return data;\n        } else {\n          const errorData = await response.json();\n          throw new Error(errorData.message);\n        }\n      } catch (error) {\n        console.error(\"Error Fetching User Data:\", error);\n      }\n    }\n    fetchUserData();\n  }, [currentUser.uid]);\n  const handleSelectCar = e => {\n    const selectMake = e.target.value;\n    setSelectedMake(selectMake);\n    const filteredModels = carData.filter(car => car.Make === selectMake).map(car => car.Model);\n    setmodelOptions([...new Set(filteredModels)]);\n  };\n  const handleFindCar = () => {\n    setMessage(false);\n    setError(false);\n    setVehicleInfo(false);\n    setShowOptions(true);\n    setShowButton(false);\n    setShowSelectedButton(true);\n  };\n  async function handleaddCar(e) {\n    e.preventDefault();\n    console.log(\"Add Button Pressed\");\n    console.log(`Added Car: Make ${vehicleMake} Model: ${vehicleModel} \n                        Fuel: ${vehicleFuel} Transmission: ${vehicleTransmission}`);\n    console.log('VehicleData:', vehicleData);\n    const formData = new FormData();\n    formData.append('user', userId);\n    formData.append('vrn', vehicleReg.current.value);\n    formData.append('image', vehicleImage);\n    formData.append('vehicleInfo', JSON.stringify(vehicleData));\n    formData.append('vehicleValue', JSON.stringify(vehicleValue));\n    formData.append('vehicleMOT', JSON.stringify(vehicleMOT));\n    formData.append('vehicleHistory', JSON.stringify(vehicleHistory));\n    try {\n      setError('');\n      setMessage('');\n      setLoading(true);\n      const response = await fetch('http://localhost:3001/vehicles/add', {\n        method: 'POST',\n        body: formData\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.message);\n      }\n      const data = await response.json();\n      const firebaseUID = currentUser.uid;\n      const Vehicle_formData = new FormData();\n      Vehicle_formData.append('vehicleId', data.newVehicle._id);\n      Vehicle_formData.append('vrn', data.newVehicle.vrn);\n      const userResponse = await fetch(`http://localhost:3001/users/update?userfb=${encodeURIComponent(firebaseUID)}`, {\n        method: 'PUT',\n        body: Vehicle_formData\n      });\n      if (!userResponse.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.message);\n      }\n      console.log(\"Add Vehicle Successful\");\n      setMessage(`${vehicleReg.current.value} Has Been Added`);\n      setTimeout(() => {\n        navigate(`/garage/${userId}`);\n      }, 2000);\n    } catch (error) {\n      console.error(\"Error Adding Vehicle:\", error);\n      setError(\"Failed To Add Vehicle\");\n    }\n    setLoading(false);\n  }\n  async function handleaddSelectedCar(e) {\n    e.preventDefault();\n    console.log(\"Selected Button Pressed\");\n    console.log(`Selected Car: Make ${selectedMake} Model: ${selectedModel} \n                        Fuel: ${selectedFuel} Transmission: ${selectedTransmission}`);\n  }\n  async function handleSearchVehicle(e) {\n    e.preventDefault();\n    setShowButton(false);\n    setShowSelectedButton(false);\n    setShowOptions(false);\n    setError('');\n    setMessage('');\n    const vehicleRegValue = vehicleReg.current.value;\n    fetch(`http://localhost:3001/vehicleAPI/search?vrn=${encodeURIComponent(vehicleRegValue)}`).then(response => {\n      if (response.ok) {\n        return response.json();\n      } else {\n        setError(\"Failed To Find Vehicle\");\n        setMessage(false);\n        setShowOptions(true);\n        setShowSelectedButton(true);\n        throw new Error('Network response was not ok');\n      }\n    }).then(data => {\n      // console.log(\"API Data: \", data);\n      // console.log(data.VehicleRegistration.Make)\n      setVehicleData(data.datainfo);\n      setVehicleValue(data.dataValue);\n      setVehicleMOT(data.dataMOT);\n      setVehicleHistory(data.dataHistory);\n      const VRN_vehicleMake = data.datainfo.VehicleRegistration.Make;\n      setvehicleMake(VRN_vehicleMake);\n      const VRN_vehicleModel = data.datainfo.VehicleRegistration.Model;\n      setvehicleModel(VRN_vehicleModel);\n      const VRN_vehicleFuel = data.datainfo.VehicleRegistration.FuelType;\n      setvehicleFuel(VRN_vehicleFuel);\n      const VRN_vehicleTransmission = data.datainfo.VehicleRegistration.TransmissionType;\n      setvehicleTransmission(VRN_vehicleTransmission);\n      updateImage(data.dataImg.VehicleImages.ImageDetailsList[0].ImageUrl);\n      setVehicleImage(data.dataImg.VehicleImages.ImageDetailsList[0].ImageUrl);\n      setVehicleInfo( /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Make: \", VRN_vehicleMake || 'No Make available.', \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 86\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Model: \", VRN_vehicleModel || 'No Model available.', \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 89\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Fuel Type: \", VRN_vehicleFuel || 'No Fuel available.']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 90\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Transmission: \", VRN_vehicleTransmission || 'No Transmission available.', \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 110\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 21\n      }, this));\n      setShowOptions(false);\n      setShowButton(true);\n      setShowSelectedButton(false);\n    }).catch(error => {\n      console.error('Error fetching data:', error);\n      setError('Failed To Retrieve Vehicle Information');\n      console.log(error);\n      setShowOptions(true);\n      setShowSelectedButton(true);\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Card\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          id: \"addVehicle_text\",\n          children: [\"Add Your Vehicle\", /*#__PURE__*/_jsxDEV(\"p\", {\n            id: \"slogan_text\",\n            children: \"Show Your Vehicle\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSearchVehicle,\n        className: \"addVehicle_Form\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"vrn_row\",\n          children: /*#__PURE__*/_jsxDEV(Form.Group, {\n            id: \"vrn\",\n            children: /*#__PURE__*/_jsxDEV(Form.Control, {\n              id: \"vrn_input\",\n              type: \"text\",\n              placeholder: \"Registration Number\",\n              ref: vehicleReg,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"w-100 text-center mt-3 mb-1\",\n          id: \"error_Msg\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"button\",\n          className: \"w-100 mt-2\",\n          type: \"submit\",\n          children: \"Search Vehicle\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          id: \"vehicleDetail\",\n          children: vehicleInfo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"w-100 text-center mt-3 mb-1\",\n        id: \"success_Msg\",\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 17\n      }, this), showButton && /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"addVehicle_Form\",\n        onSubmit: handleaddCar,\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"button\",\n          className: \"w-100 mt-2\",\n          type: \"submit\",\n          onSubmit: handleaddCar,\n          children: \"Add Vehicle\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"addVehicle_Form\",\n        onSubmit: handleaddSelectedCar,\n        children: [showOptions && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"select-space-between\",\n            children: /*#__PURE__*/_jsxDEV(\"select\", {\n              onChange: handleSelectCar,\n              value: selectedMake,\n              required: true,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                disabled: true,\n                children: \"Make\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 37\n              }, this), makeOptions.map(make => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: make,\n                children: [\" \", make, \" \"]\n              }, make, true, {\n                fileName: _jsxFileName,\n                lineNumber: 305,\n                columnNumber: 41\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"select-space-between\",\n            children: /*#__PURE__*/_jsxDEV(\"select\", {\n              onChange: e => setSelectedModel(e.target.value),\n              value: selectedModel,\n              disabled: !selectedMake,\n              required: true,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                disabled: true,\n                children: \"Model\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 312,\n                columnNumber: 37\n              }, this), modelOptions.map(model => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: model,\n                children: [\" \", model, \" \"]\n              }, model, true, {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 41\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"select-space-between\",\n            children: /*#__PURE__*/_jsxDEV(\"select\", {\n              onChange: e => setSelectedFuel(e.target.value),\n              value: selectedFuel,\n              disabled: !selectedModel.length,\n              required: true,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                disabled: true,\n                children: \"Fuel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 321,\n                columnNumber: 37\n              }, this), fuelOptions.map(fuel => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: fuel,\n                children: [\" \", fuel, \" \"]\n              }, fuel, true, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 41\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"select-space-between\",\n            children: /*#__PURE__*/_jsxDEV(\"select\", {\n              onChange: e => setSelectedTransmission(e.target.value),\n              value: selectedTransmission,\n              disabled: !selectedModel.length,\n              required: true,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                disabled: true,\n                children: \"Transmission\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 37\n              }, this), transmissionOptions.map(transmission => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: transmission,\n                children: [\" \", transmission, \" \"]\n              }, transmission, true, {\n                fileName: _jsxFileName,\n                lineNumber: 332,\n                columnNumber: 41\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 38\n        }, this), showSelectedButton && /*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"button\",\n          disabled: loading,\n          className: \"w-100 mt-2\",\n          type: \"submit\",\n          children: \"Add Selected Vehicle\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"findVehicle\",\n        className: \"w-100 text-center mt-2\",\n        children: [\"Can't find your car? \", /*#__PURE__*/_jsxDEV(Link, {\n          id: \"findlink\",\n          onClick: handleFindCar,\n          children: \" Find Here\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 42\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"homepage\",\n        className: \"w-100 text-center mt-2\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: `/profile/${userId}`,\n          id: \"findlink\",\n          children: \" Add Vehicle Later\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 22\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n_s(RegisterVehicle, \"a3wi6PfMTs1/4tza2A0IzckJh8o=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = RegisterVehicle;\nexport default RegisterVehicle;\nvar _c;\n$RefreshReg$(_c, \"RegisterVehicle\");","map":{"version":3,"names":["React","useEffect","useRef","useState","Form","useAuth","Link","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","RegisterVehicle","updateImage","_s","userId","setuserId","currentUser","carData","setCarData","makeOptions","setmakeOptions","modelOptions","setmodelOptions","fuelOptions","transmissionOptions","vehicleReg","vehicleData","setVehicleData","vehicleValue","setVehicleValue","vehicleMOT","setVehicleMOT","vehicleHistory","setVehicleHistory","vehicleMake","setvehicleMake","vehicleModel","setvehicleModel","vehicleFuel","setvehicleFuel","vehicleTransmission","setvehicleTransmission","vehicleImage","setVehicleImage","selectedMake","setSelectedMake","selectedModel","setSelectedModel","selectedFuel","setSelectedFuel","selectedTransmission","setSelectedTransmission","error","setError","message","setMessage","loading","setLoading","navigate","vehicleInfo","setVehicleInfo","showButton","setShowButton","showSelectedButton","setShowSelectedButton","showOptions","setShowOptions","CarOp","fetch","then","response","ok","json","Error","data","results","makes","Set","map","car","Make","models","Model","catch","console","fetchUserData","firebaseUID","uid","encodeURIComponent","method","headers","userData","_id","log","errorData","handleSelectCar","e","selectMake","target","value","filteredModels","filter","handleFindCar","handleaddCar","preventDefault","formData","FormData","append","current","JSON","stringify","body","Vehicle_formData","newVehicle","vrn","userResponse","setTimeout","handleaddSelectedCar","handleSearchVehicle","vehicleRegValue","datainfo","dataValue","dataMOT","dataHistory","VRN_vehicleMake","VehicleRegistration","VRN_vehicleModel","VRN_vehicleFuel","FuelType","VRN_vehicleTransmission","TransmissionType","dataImg","VehicleImages","ImageDetailsList","ImageUrl","children","fileName","_jsxFileName","lineNumber","columnNumber","className","id","onSubmit","Group","Control","type","placeholder","ref","required","onChange","disabled","make","model","length","fuel","transmission","onClick","to","_c","$RefreshReg$"],"sources":["/Users/sharusan/MeetMyCar/myapp/src/RegisterVehicle.js"],"sourcesContent":["import React, {useEffect, useRef, useState} from 'react'\nimport {Form} from 'react-bootstrap'\nimport { useAuth } from './AuthContext'\nimport {Link, useNavigate} from 'react-router-dom'\n\nimport './RegisterVehicle_css.css'\n\nconst RegisterVehicle = ({updateImage}) => {\n\n    const [userId, setuserId] = useState('')\n    const {currentUser} = useAuth()\n\n    const [carData, setCarData] = useState([])\n    const [makeOptions, setmakeOptions] = useState([])\n    const [modelOptions, setmodelOptions] = useState([])\n\n    const fuelOptions = [\"Petrol\", \"Diesel\", \"Hybrid\", \"Electric\"]\n    const transmissionOptions = [\"Manual\", \"Automatic\", \"Semi-Auto\"]\n\n    const vehicleReg = useRef()\n    const [vehicleData, setVehicleData] = useState([])\n    const [vehicleValue, setVehicleValue] = useState([])\n    const [vehicleMOT, setVehicleMOT] = useState([])\n    const [vehicleHistory, setVehicleHistory] = useState([])\n\n    const [vehicleMake, setvehicleMake] = useState('')\n    const [vehicleModel, setvehicleModel] = useState('')\n    const [vehicleFuel, setvehicleFuel] = useState('')\n    const [vehicleTransmission, setvehicleTransmission] = useState('')\n    const [vehicleImage, setVehicleImage] = useState('')\n\n    const [selectedMake, setSelectedMake] = useState('');\n    const [selectedModel, setSelectedModel] = useState([]);\n    const [selectedFuel, setSelectedFuel] = useState('');\n    const [selectedTransmission, setSelectedTransmission] = useState('');\n\n    const [error, setError] = useState('')\n    const [message, setMessage] = useState('')\n    const [loading, setLoading] = useState(false)\n    const navigate = useNavigate()\n\n    const [vehicleInfo, setVehicleInfo] = useState('')\n    const [showButton, setShowButton] = useState(false)\n    const [showSelectedButton, setShowSelectedButton] = useState(false)\n    const [showOptions, setShowOptions] = useState(false)\n\n    useEffect(() => {\n        async function CarOp(){\n            setError('');\n            setMessage('')\n\n            fetch('http://localhost:3001/vehicleAPI/list')\n                .then(response => {\n                    if (response.ok) {\n                        return response.json();\n                    } else {\n                        throw new Error('Network response was not ok');\n                    }\n                })\n                .then(data => {\n                    // console.log(\"API Data: \", data);\n\n                    setCarData(data.results);\n\n                    const makes = [...new Set(data.results.map(car => car.Make))];\n                    const models = [...new Set(data.results.map(car => car.Model))];\n\n                    // console.log(\"Make\", makes);\n\n                    setmakeOptions(makes);\n                    setmodelOptions(models);\n                })\n                .catch(error => {\n                    console.error('Error fetching data:', error);\n                });\n        }\n        CarOp();\n    }, []);\n    \n    useEffect(() => {\n        async function fetchUserData(){\n            try{\n                const firebaseUID = currentUser.uid;\n    \n                const response = await fetch(`http://localhost:3001/users/?userfb=${encodeURIComponent(firebaseUID)}`, {\n                    method: 'GET',\n                    headers: {\n                        'accept': 'application/json',\n                    },\n                });\n    \n                if (response.ok){\n                    const data = await response.json()\n\n                    setuserId(data.userData._id)\n    \n                    console.log(\"Fetched User Details\")\n                    return data\n                } else{\n                    const errorData = await response.json()\n                    throw new Error(errorData.message)\n                }\n            }catch (error){\n                console.error(\"Error Fetching User Data:\", error)\n            }\n        }\n        fetchUserData();\n    }, [currentUser.uid]);\n\n    const handleSelectCar= (e) => {\n        const selectMake = e.target.value;\n        setSelectedMake(selectMake);\n\n        const filteredModels = carData.filter(car => car.Make === selectMake).map(car => car.Model);\n        setmodelOptions([...new Set(filteredModels)]); \n    };\n\n    const handleFindCar= () => {\n        setMessage(false)\n        setError(false)\n        setVehicleInfo(false)\n        setShowOptions(true)\n        setShowButton(false)\n        setShowSelectedButton(true)\n    };\n\n    async function handleaddCar(e) {\n        e.preventDefault()\n        console.log(\"Add Button Pressed\")\n        console.log(`Added Car: Make ${vehicleMake} Model: ${vehicleModel} \n                        Fuel: ${vehicleFuel} Transmission: ${vehicleTransmission}`)\n\n        console.log('VehicleData:', vehicleData)\n        \n                        \n        const formData = new FormData();\n        formData.append('user', userId);\n        formData.append('vrn', vehicleReg.current.value);\n        formData.append('image', vehicleImage);\n        formData.append('vehicleInfo', JSON.stringify(vehicleData));\n        formData.append('vehicleValue', JSON.stringify(vehicleValue));\n        formData.append('vehicleMOT', JSON.stringify(vehicleMOT));\n        formData.append('vehicleHistory', JSON.stringify(vehicleHistory));\n\n    \n        try{\n            setError('')\n            setMessage('')\n            setLoading(true) \n\n            const response = await fetch('http://localhost:3001/vehicles/add', {\n                method: 'POST',\n                body: formData,\n            });\n                \n            if (!response.ok){\n                const errorData = await response.json()\n                throw new Error(errorData.message)\n            }\n            const data = await response.json()\n\n            const firebaseUID = currentUser.uid;\n\n            const Vehicle_formData = new FormData();\n            Vehicle_formData.append('vehicleId', data.newVehicle._id);\n            Vehicle_formData.append('vrn', data.newVehicle.vrn);\n\n            const userResponse = await fetch(`http://localhost:3001/users/update?userfb=${encodeURIComponent(firebaseUID)}`, {\n                method: 'PUT',\n                body: Vehicle_formData,\n            });\n\n            if (!userResponse.ok){\n                const errorData = await response.json()\n                throw new Error(errorData.message)\n            } \n\n            console.log(\"Add Vehicle Successful\")\n            setMessage(`${vehicleReg.current.value} Has Been Added`)\n\n            setTimeout(() => {\n                navigate(`/garage/${userId}`)\n            }, 2000)\n\n        }catch (error){\n            console.error(\"Error Adding Vehicle:\", error)\n            setError(\"Failed To Add Vehicle\")\n            \n        }\n        setLoading(false) \n    }\n\n    async function handleaddSelectedCar(e) {\n        e.preventDefault()\n        console.log(\"Selected Button Pressed\")\n        console.log(`Selected Car: Make ${selectedMake} Model: ${selectedModel} \n                        Fuel: ${selectedFuel} Transmission: ${selectedTransmission}`)\n    }\n\n    async function handleSearchVehicle(e){\n        e.preventDefault()\n        setShowButton(false)\n        setShowSelectedButton(false)\n        setShowOptions(false)\n\n        setError('');\n        setMessage('')\n\n        const vehicleRegValue = vehicleReg.current.value;\n        \n        fetch(`http://localhost:3001/vehicleAPI/search?vrn=${encodeURIComponent(vehicleRegValue)}`)\n            .then(response => {\n                if (response.ok) {\n                    return response.json();\n\n                } else {\n                    setError(\"Failed To Find Vehicle\");\n                    setMessage(false)\n                    setShowOptions(true)\n                    setShowSelectedButton(true)\n                    throw new Error('Network response was not ok');\n                }\n            })\n            .then(data => {\n                // console.log(\"API Data: \", data);\n                // console.log(data.VehicleRegistration.Make)\n                setVehicleData(data.datainfo)\n                setVehicleValue(data.dataValue)\n                setVehicleMOT(data.dataMOT)\n                setVehicleHistory(data.dataHistory)\n\n                const VRN_vehicleMake = data.datainfo.VehicleRegistration.Make;\n                setvehicleMake(VRN_vehicleMake)\n                const VRN_vehicleModel = data.datainfo.VehicleRegistration.Model;\n                setvehicleModel(VRN_vehicleModel)\n                const VRN_vehicleFuel = data.datainfo.VehicleRegistration.FuelType;\n                setvehicleFuel(VRN_vehicleFuel)\n                const VRN_vehicleTransmission = data.datainfo.VehicleRegistration.TransmissionType;\n                setvehicleTransmission(VRN_vehicleTransmission)\n\n                updateImage(data.dataImg.VehicleImages.ImageDetailsList[0].ImageUrl)\n                setVehicleImage(data.dataImg.VehicleImages.ImageDetailsList[0].ImageUrl)\n\n                setVehicleInfo(\n                    <div>\n                        <span>Make: {VRN_vehicleMake || 'No Make available.'} </span><br />\n                        <span>Model: {VRN_vehicleModel || 'No Model available.'} </span><br />\n                        <span>Fuel Type: {VRN_vehicleFuel || 'No Fuel available.'}</span><br />\n                        <span>Transmission: {VRN_vehicleTransmission || 'No Transmission available.'} </span><br />\n                    </div>\n                );\n                setShowOptions(false)\n                setShowButton(true)\n                setShowSelectedButton(false)\n\n            })\n            .catch(error => {\n                console.error('Error fetching data:', error);\n                setError('Failed To Retrieve Vehicle Information');\n                console.log(error)\n                setShowOptions(true)\n                setShowSelectedButton(true);\n            });\n    }\n    \n  return (\n      <>\n            <div className=\"Card\">\n                <header>\n                    <h1 id=\"addVehicle_text\">\n                        Add Your Vehicle\n                        <p id=\"slogan_text\">Show Your Vehicle</p>\n                    </h1>\n                </header>\n\n                <form onSubmit={handleSearchVehicle} className='addVehicle_Form'>\n                    <div className='vrn_row'>\n                        <Form.Group id=\"vrn\">\n                            <Form.Control id=\"vrn_input\" type=\"text\" placeholder='Registration Number' ref={vehicleReg} required />\n                        </Form.Group>\n                    </div>\n\n                    <p className=\"w-100 text-center mt-3 mb-1\" id=\"error_Msg\">{error}</p>\n\n                    <button id=\"button\" className=\"w-100 mt-2\" type=\"submit\">Search Vehicle</button>\n\n                    <p id='vehicleDetail'>{vehicleInfo}</p>\n                </form>\n\n                <p className=\"w-100 text-center mt-3 mb-1\" id=\"success_Msg\">{message}</p>\n\n                {showButton && (\n                    <form className='addVehicle_Form' onSubmit={handleaddCar}>\n                        <button id=\"button\" className=\"w-100 mt-2\" type=\"submit\" onSubmit={handleaddCar}>Add Vehicle</button>\n                    </form>\n                )}\n\n                <form className='addVehicle_Form' onSubmit={handleaddSelectedCar}>\n                    {showOptions && (<div>\n\n                            <div className='select-space-between'>\n                                <select onChange={handleSelectCar} value={selectedMake} required>\n                                    <option value=\"\" disabled>Make</option>\n                                    {makeOptions.map(make => (\n                                        <option key={make} value={make}> {make} </option>\n                                    ))}\n                                </select>\n                            </div>\n\n                            <div className='select-space-between'>\n                                <select onChange={(e) => setSelectedModel(e.target.value)} value={selectedModel} disabled={!selectedMake} required>\n                                    <option value=\"\" disabled >Model</option>\n                                    {modelOptions.map(model => ( \n                                        <option key={model} value={model}> {model} </option>\n                                    ))}\n                                </select>\n                            </div>\n\n                            <div className='select-space-between'>\n                                <select onChange={(e) => setSelectedFuel(e.target.value)} value={selectedFuel} disabled={!selectedModel.length} required>\n                                    <option value=\"\" disabled >Fuel</option>\n                                    {fuelOptions.map(fuel => (\n                                        <option key={fuel} value={fuel}> {fuel} </option>\n                                    ))}\n                                </select>\n                            </div>\n\n                            <div className='select-space-between'>\n                                <select onChange={(e) => setSelectedTransmission(e.target.value)} value={selectedTransmission} disabled={!selectedModel.length} required>\n                                    <option value=\"\" disabled>Transmission</option>\n                                    {transmissionOptions.map(transmission => (\n                                        <option key={transmission} value={transmission}> {transmission} </option>\n                                    ))}\n                                </select>\n                            </div>\n                            \n                        </div>\n                    )} \n\n                    {showSelectedButton && (\n                        <button id=\"button\" disabled={loading} className=\"w-100 mt-2\" type=\"submit\" >Add Selected Vehicle</button>\n                    )}\n                </form>\n\n                \n                <div id=\"findVehicle\" className=\"w-100 text-center mt-2\">\n                    Can't find your car? <Link id='findlink' onClick={handleFindCar}> Find Here</Link>\n                </div>\n\n                <div id=\"homepage\" className=\"w-100 text-center mt-2\">\n                     <Link to={`/profile/${userId}`} id='findlink' > Add Vehicle Later</Link>\n                </div>\n            </div>\n        \n      </>\n    \n  )\n}\n\nexport default RegisterVehicle"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}