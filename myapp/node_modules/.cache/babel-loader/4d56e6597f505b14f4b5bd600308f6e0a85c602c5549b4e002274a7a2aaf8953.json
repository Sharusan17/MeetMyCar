{"ast":null,"code":"var _jsxFileName = \"/Users/sharusan/MeetMyCar/myapp/src/UpdateProfile.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport { Form } from 'react-bootstrap';\nimport { useAuth } from './AuthContext';\nimport { Popup } from 'reactjs-popup';\nimport { Link, useNavigate } from 'react-router-dom';\nimport './UpdateProfile_css.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst UpdateProfile = () => {\n  _s();\n  const usernameRef = useRef();\n  const emailRef = useRef();\n  const passwordRef = useRef();\n  const passwordConfirmRef = useRef();\n  const profilePictureRef = useRef();\n  const [userId, setUserId] = useState('');\n  const [firstname, setfirstName] = useState('');\n  const [lastname, setlastName] = useState('');\n  const [username, setuserName] = useState('');\n  const [profilePicture, setprofilePicture] = useState('');\n  const [vehicles, setVehicles] = useState([]);\n  const {\n    currentUser,\n    logout,\n    sendEmailVerify,\n    updateEmail,\n    updatePassword,\n    deleteUser\n  } = useAuth();\n  const [emailChanging, setemailChanging] = useState(false);\n  const [confirmDeleteUser, setconfirmDeleteUser] = useState(false);\n  const [openDeleteModal, setOpenDeleteModal] = useState(false);\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const navigate = useNavigate();\n  useEffect(() => {\n    async function fetchUserData() {\n      await updateUser();\n      try {\n        setError('');\n        const firebaseUID = currentUser.uid;\n        // console.log(firebaseUID)\n\n        const response = await fetch(`http://localhost:3001/users/details?userfb=${encodeURIComponent(firebaseUID)}`, {\n          method: 'GET',\n          headers: {\n            'accept': 'application/json'\n          }\n        });\n        if (response.ok) {\n          const data = await response.json();\n          setUserId(data.userData._id);\n          setfirstName(data.userData.firstname);\n          setlastName(data.userData.lastname);\n          setuserName(data.userData.username);\n          setprofilePicture(data.userData.profilePicture);\n          setVehicles(data.userData.vehicles);\n          console.log(\"Fetched User Details:\", data);\n          return data;\n        } else {\n          const errorData = await response.json();\n          setError(\"Failed To Fetch User Data\");\n          throw new Error(errorData.message);\n        }\n      } catch (error) {\n        console.error(\"Error Fetching User Data:\", error);\n        setError(\"Failed To Fetch User Data\");\n      }\n    }\n    fetchUserData();\n  }, [currentUser.uid]);\n  const updateUser = async () => {\n    const formData = new FormData();\n    if (profilePictureRef.current && profilePictureRef.current.files[0]) {\n      formData.append('profilePicture', profilePictureRef.current.files[0]);\n    }\n    formData.append('email', emailRef.current.value);\n    try {\n      // console.log(\"Updated Email: \", updatedEmail)\n      setLoading(true);\n      setError('');\n      const firebaseUID = currentUser.uid;\n      // console.log(firebaseUID)\n\n      const response = await fetch(`http://localhost:3001/users/update?userfb=${encodeURIComponent(firebaseUID)}`, {\n        method: 'PUT',\n        body: formData\n      });\n      if (response.ok) {\n        console.log(\"Updated User Details\");\n      } else {\n        const errorData = await response.json();\n        setError(\"Failed To Update User Details\");\n        console.error(\"Error Updating User Details:\", error);\n        throw new Error(errorData.message);\n      }\n    } catch (error) {\n      console.error(\"Error Updating User Details:\", error);\n      setError(\"Failed To Update User Details\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  async function handleSubmit(e) {\n    e.preventDefault();\n    if (passwordRef.current.value.length) {\n      if (passwordRef.current.value !== passwordConfirmRef.current.value) {\n        return setError(\"Password do not match\");\n      }\n      if (passwordRef.current.value.length < 6 && passwordConfirmRef.current.value.length < 6) {\n        return setError(\"Password Too Short\");\n      }\n    }\n    const toupdate = [];\n    setLoading(true);\n    setError('');\n    if (emailRef.current.value !== currentUser.email) {\n      try {\n        await toupdate.push(updateEmail(emailRef.current.value));\n        console.log(\"Email Updating...\");\n        toupdate.push(updateUser());\n        navigate(`/verify?newEmail=${encodeURIComponent(emailRef.current.value)}`);\n        return;\n      } catch (error) {\n        setError(error);\n        console.log(error);\n      }\n    }\n    if (passwordRef.current.value.length > 0 && passwordRef.current.value !== currentUser.password) {\n      console.log(\"Password Updating...\");\n      toupdate.push(updatePassword(passwordRef.current.value));\n    }\n    if (profilePictureRef.current.value !== profilePicture) {\n      console.log(\"Profile Picture Updating...\");\n      toupdate.push(updateUser());\n    }\n    Promise.all(toupdate).then(() => {\n      navigate('/setting');\n    }).catch(error => {\n      console.log(\"Failed to Update Account\", error);\n      if (error.code === 'auth/operation-not-allowed') {\n        setError(\"Verify Current Email Address\");\n        sendEmailVerify();\n      } else if (error.code === 'auth/requires-recent-login') {\n        setError(\"Login Session Timeout\");\n        setTimeout(() => {\n          logout();\n        }, 2000);\n      } else {\n        setError(\"Failed to Update Account\");\n      }\n    }).finally(() => {\n      setLoading(false);\n    });\n  }\n  async function handleDelete(e) {\n    e.preventDefault();\n    if (!confirmDeleteUser) {\n      setconfirmDeleteUser(true);\n      return;\n    }\n    setLoading(true);\n    setError('');\n    try {\n      const response = await fetch(`http://localhost:3001/users/delete?userfb=${encodeURIComponent(userId)}`, {\n        method: 'DELETE'\n      });\n      if (response.ok) {\n        console.log(\"Deleted User\");\n        deleteUser();\n      } else {\n        const errorData = await response.json();\n        setError(\"Failed To Delete User\");\n        console.error(\"Error Deleting User:\", error);\n        throw new Error(errorData.message);\n      }\n    } catch (error) {\n      console.error(\"Error Deleting User:\", error);\n      setError(\"Failed To Delete User\");\n    } finally {\n      setLoading(false);\n    }\n  }\n  const handleEmailChange = () => {\n    setemailChanging(true);\n  };\n  function handleSelectVehicle(e) {\n    const vehicle_Id = e.target.value;\n    const selectVehicle = vehicles.find(v => v.vehicleId === vehicle_Id);\n  }\n  ;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"updateHeader\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        id: \"login_text\",\n        children: [\"Update Profile\", /*#__PURE__*/_jsxDEV(\"p\", {\n          id: \"slogan_text\",\n          children: \"Amend Your Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"updateName\",\n        children: [firstname, \" \", lastname]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"updateForm\",\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n        className: \"formBox\",\n        id: \"username\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          className: \"formLabel\",\n          children: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          className: \"formInput\",\n          type: \"text\",\n          ref: usernameRef,\n          defaultValue: username,\n          disabled: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        className: \"formBox\",\n        id: \"email\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          className: \"formLabel\",\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          className: \"formInput\",\n          type: \"email\",\n          ref: emailRef,\n          defaultValue: currentUser.email,\n          onChange: handleEmailChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        className: \"formBox\",\n        id: \"password\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          className: \"formLabel\",\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          className: \"formInput\",\n          type: \"password\",\n          ref: passwordRef,\n          placeholder: emailChanging ? 'Cannot Be Updated While Email Updating' : 'Leave Blank to keep the same',\n          disabled: emailChanging\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        className: \"formBox\",\n        id: \"passwordConfirmation\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          className: \"formLabel\",\n          children: \"Password Confirmation\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          className: \"formInput\",\n          type: \"password\",\n          ref: passwordConfirmRef,\n          placeholder: emailChanging ? 'Cannot Be Updated While Email Updating' : 'Leave Blank to keep the same',\n          disabled: emailChanging\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        className: \"formBox\",\n        id: \"profilePicture\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          className: \"formLabel\",\n          children: \"Profile Picture\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          className: \"formInput\",\n          type: \"file\",\n          ref: profilePictureRef,\n          placeholder: \"Insert Image\",\n          defaultValue: profilePicture,\n          accept: \"image/*\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 17\n      }, this), profilePicture && /*#__PURE__*/_jsxDEV(\"img\", {\n        src: profilePicture,\n        alt: \"Profile\",\n        className: \"profileImg\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        className: \"formBox\",\n        id: \"vehicles\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          className: \"formLabel\",\n          children: \"Look At Your Vehicles\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"formVehicle\",\n          onChange: handleSelectVehicle,\n          required: true,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            disabled: true,\n            children: \"VRN\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 25\n          }, this), vehicles.map(vehicle => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: vehicle.vehicleId,\n            children: [\" \", vehicle.vrn, \" \"]\n          }, vehicle.vehicleId, true, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 29\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"w-100 text-center mt-2 mb-0\",\n        id: \"error_Msg\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        disabled: loading,\n        className: \"btn btn-dark w-100 mt-2\",\n        type: \"submit\",\n        children: \"Update\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 17\n      }, this), confirmDeleteUser ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Popup, {\n          open: openDeleteModal,\n          closeOnDocumentClick: true,\n          onClose: () => setOpenDeleteModal(false),\n          className: \"Popup\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"FollowModal\",\n            children: /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"modalFollowHeader\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                    children: \"Followers\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 278,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 277,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 276,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"line\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"modalFollowData\",\n                children: followers.map((followers, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: followers.followerName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 287,\n                    columnNumber: 49\n                  }, this)\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 286,\n                  columnNumber: 45\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 284,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Are you sure you want to delete \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: usernameRef.current.value\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 60\n          }, this), \" account?\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          disabled: loading,\n          className: \"btn btn-outline-danger w-100 mt-2\",\n          variant: \"danger\",\n          onClick: handleDelete,\n          children: \"Confirm Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          disabled: loading,\n          className: \"btn btn-outline-dark w-100 mt-2\",\n          variant: \"danger\",\n          type: \"submit\",\n          onClick: handleDelete,\n          children: \"Delete Account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 25\n        }, this)\n      }, void 0, false)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-100 text-center mt-2\",\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/setting\",\n        children: \"  Go Back Home\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 212,\n    columnNumber: 9\n  }, this);\n};\n_s(UpdateProfile, \"cANOYgjGvpIgYUSQ7EKBlgQ78+I=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = UpdateProfile;\nexport default UpdateProfile;\nvar _c;\n$RefreshReg$(_c, \"UpdateProfile\");","map":{"version":3,"names":["React","useEffect","useRef","useState","Form","useAuth","Popup","Link","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","UpdateProfile","_s","usernameRef","emailRef","passwordRef","passwordConfirmRef","profilePictureRef","userId","setUserId","firstname","setfirstName","lastname","setlastName","username","setuserName","profilePicture","setprofilePicture","vehicles","setVehicles","currentUser","logout","sendEmailVerify","updateEmail","updatePassword","deleteUser","emailChanging","setemailChanging","confirmDeleteUser","setconfirmDeleteUser","openDeleteModal","setOpenDeleteModal","error","setError","loading","setLoading","navigate","fetchUserData","updateUser","firebaseUID","uid","response","fetch","encodeURIComponent","method","headers","ok","data","json","userData","_id","console","log","errorData","Error","message","formData","FormData","current","files","append","value","body","handleSubmit","e","preventDefault","length","toupdate","email","push","password","Promise","all","then","catch","code","setTimeout","finally","handleDelete","handleEmailChange","handleSelectVehicle","vehicle_Id","target","selectVehicle","find","v","vehicleId","children","className","id","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","Group","Label","Control","type","ref","defaultValue","disabled","onChange","required","placeholder","accept","src","alt","map","vehicle","vrn","open","closeOnDocumentClick","onClose","followers","index","followerName","variant","onClick","to","_c","$RefreshReg$"],"sources":["/Users/sharusan/MeetMyCar/myapp/src/UpdateProfile.js"],"sourcesContent":["import React, {useEffect, useRef, useState} from 'react'\nimport {Form} from 'react-bootstrap'\nimport { useAuth } from './AuthContext'\nimport {Popup} from 'reactjs-popup'\nimport {Link, useNavigate} from 'react-router-dom'\n\nimport './UpdateProfile_css.css'\n\nconst UpdateProfile = () => {\n\n    const usernameRef = useRef()\n    const emailRef = useRef()\n    const passwordRef = useRef()\n    const passwordConfirmRef = useRef()\n    const profilePictureRef = useRef()\n\n    const [userId, setUserId] = useState('')\n    const [firstname, setfirstName] = useState('')\n    const [lastname, setlastName] = useState('')\n    const [username, setuserName] = useState('')\n    const [profilePicture, setprofilePicture] = useState('')\n    const [vehicles, setVehicles] = useState([])\n\n    const {currentUser, logout, sendEmailVerify, updateEmail, updatePassword, deleteUser} = useAuth()\n\n    const [emailChanging, setemailChanging] = useState(false)\n    const [confirmDeleteUser, setconfirmDeleteUser] = useState(false)\n    const [openDeleteModal, setOpenDeleteModal] = useState(false)\n\n    const [error, setError] = useState('')\n    const [loading, setLoading] = useState(false)\n    const navigate = useNavigate()\n\n    useEffect(() => {\n        async function fetchUserData(){\n            await updateUser()\n            try{\n                setError('')\n                const firebaseUID = currentUser.uid;\n                // console.log(firebaseUID)\n\n                const response = await fetch(`http://localhost:3001/users/details?userfb=${encodeURIComponent(firebaseUID)}`, {\n                    method: 'GET',\n                    headers: {\n                        'accept': 'application/json',\n                    },\n                });\n\n                if (response.ok){\n                    const data = await response.json()\n\n                    setUserId(data.userData._id)\n                    setfirstName(data.userData.firstname)\n                    setlastName(data.userData.lastname)\n                    setuserName(data.userData.username)\n                    setprofilePicture(data.userData.profilePicture)\n                    setVehicles(data.userData.vehicles)\n\n                    console.log(\"Fetched User Details:\", data)\n                    return data\n                } else{\n                    const errorData = await response.json()\n                    setError(\"Failed To Fetch User Data\")\n                    throw new Error(errorData.message)\n                }\n            }catch (error){\n                console.error(\"Error Fetching User Data:\", error)\n                setError(\"Failed To Fetch User Data\")\n            }\n        }\n        fetchUserData();\n    }, [currentUser.uid]); \n\n    const updateUser = async () => {\n\n        const formData = new FormData();\n\n        if (profilePictureRef.current && profilePictureRef.current.files[0]){\n            formData.append('profilePicture', profilePictureRef.current.files[0])\n        }\n\n        formData.append('email', emailRef.current.value)\n\n        try{\n            // console.log(\"Updated Email: \", updatedEmail)\n            setLoading(true)\n            setError('')\n            const firebaseUID = currentUser.uid;\n            // console.log(firebaseUID)\n\n            const response = await fetch(`http://localhost:3001/users/update?userfb=${encodeURIComponent(firebaseUID)}`, {\n                method: 'PUT',\n                body: formData,\n            });\n\n            if (response.ok){\n                console.log(\"Updated User Details\")\n            } else{\n                const errorData = await response.json()\n                setError(\"Failed To Update User Details\")\n                console.error(\"Error Updating User Details:\", error)\n                throw new Error(errorData.message)\n            }\n        }catch (error){\n            console.error(\"Error Updating User Details:\", error)\n            setError(\"Failed To Update User Details\")\n        }finally{\n            setLoading(false)\n        }\n    }\n\n    async function handleSubmit(e){\n        e.preventDefault()\n\n        if(passwordRef.current.value.length){\n            if (passwordRef.current.value !== passwordConfirmRef.current.value){\n                return setError(\"Password do not match\")\n            }\n            if (passwordRef.current.value.length < 6 && passwordConfirmRef.current.value.length < 6 ){\n                return setError(\"Password Too Short\")\n            }\n        }\n\n        const toupdate = []\n        setLoading(true)\n        setError('')\n\n        if (emailRef.current.value !== currentUser.email){\n            try{\n                await toupdate.push(updateEmail(emailRef.current.value))\n                console.log(\"Email Updating...\")\n                toupdate.push(updateUser())\n                navigate(`/verify?newEmail=${encodeURIComponent(emailRef.current.value)}`);\n                return;\n            }catch(error){\n                setError(error)\n                console.log(error)\n            }\n        }\n        if (passwordRef.current.value.length >0 && passwordRef.current.value !== currentUser.password){\n            console.log(\"Password Updating...\")\n            toupdate.push(updatePassword(passwordRef.current.value))\n        }\n        if (profilePictureRef.current.value !==profilePicture){\n            console.log(\"Profile Picture Updating...\")\n            toupdate.push(updateUser())\n        }\n\n        Promise.all(toupdate).then(() => {\n            navigate('/setting')\n        }).catch( (error) => {\n            console.log(\"Failed to Update Account\" , error)\n            if (error.code === 'auth/operation-not-allowed'){\n                setError(\"Verify Current Email Address\")\n                sendEmailVerify()\n            }else if (error.code === 'auth/requires-recent-login'){\n                setError(\"Login Session Timeout\")\n                setTimeout(() => {\n                    logout()\n                }, 2000)\n            }else{\n                setError(\"Failed to Update Account\")\n            }\n        }).finally( () => {\n            setLoading(false)\n        })\n    }\n\n    async function handleDelete(e){\n        e.preventDefault()\n\n        if (!confirmDeleteUser){\n            setconfirmDeleteUser(true)\n            return\n        }\n\n        setLoading(true)\n        setError('')\n\n        try{\n            const response = await fetch(`http://localhost:3001/users/delete?userfb=${encodeURIComponent(userId)}`, {\n                method: 'DELETE',\n            });\n\n            if (response.ok){\n                console.log(\"Deleted User\")\n                deleteUser()\n            } else{\n                const errorData = await response.json()\n                setError(\"Failed To Delete User\")\n                console.error(\"Error Deleting User:\", error)\n                throw new Error(errorData.message)\n            }\n        }catch (error){\n            console.error(\"Error Deleting User:\", error)\n            setError(\"Failed To Delete User\")\n        }finally{\n            setLoading(false)\n        }\n    }\n\n    const handleEmailChange= () =>{\n        setemailChanging(true)\n    }\n\n    function handleSelectVehicle(e){\n        const vehicle_Id= e.target.value;\n        const selectVehicle = vehicles.find(v => v.vehicleId === vehicle_Id)\n    };\n    \n  return (\n        <div>\n            <header className='updateHeader'>\n                <h1 id=\"login_text\">\n                    Update Profile\n                    <p id=\"slogan_text\">Amend Your Details</p>\n                </h1>\n                <h3 className='updateName'>{firstname} {lastname}</h3>\n            </header>\n\n            <form className='updateForm' onSubmit={handleSubmit}>\n\n                <Form.Group className='formBox' id=\"username\">\n                    <Form.Label className='formLabel'>Username</Form.Label>\n                    <Form.Control className='formInput' type=\"text\" ref={usernameRef}  defaultValue={username} disabled/>\n                </Form.Group>   \n                \n                <Form.Group className='formBox' id=\"email\">\n                    <Form.Label className='formLabel'>Email</Form.Label>\n                    <Form.Control className='formInput' type=\"email\" ref={emailRef}  defaultValue={currentUser.email} onChange={handleEmailChange} required/>\n                </Form.Group>            \n                \n                <Form.Group className='formBox' id=\"password\">\n                    <Form.Label className='formLabel'>Password</Form.Label>\n                    <Form.Control className='formInput' type=\"password\" ref={passwordRef} placeholder={emailChanging ? 'Cannot Be Updated While Email Updating' : 'Leave Blank to keep the same'} disabled={emailChanging}/>\n                </Form.Group>\n\n                <Form.Group className='formBox' id=\"passwordConfirmation\">\n                    <Form.Label className='formLabel'>Password Confirmation</Form.Label>\n                    <Form.Control className='formInput' type=\"password\" ref={passwordConfirmRef} placeholder={emailChanging ? 'Cannot Be Updated While Email Updating' : 'Leave Blank to keep the same'} disabled={emailChanging} />\n                </Form.Group>\n\n                <Form.Group className='formBox' id=\"profilePicture\">\n                    <Form.Label className='formLabel'>Profile Picture</Form.Label>\n                    <Form.Control className='formInput' type=\"file\" ref={profilePictureRef} placeholder='Insert Image' defaultValue={profilePicture} accept=\"image/*\"/>\n                </Form.Group>\n\n                {profilePicture && (\n                    <img\n                        src={profilePicture} \n                        alt=\"Profile\"\n                        className='profileImg'\n                    />\n                )}\n\n                <Form.Group className='formBox' id=\"vehicles\">\n                    <Form.Label className='formLabel'>Look At Your Vehicles</Form.Label>\n                    <select className='formVehicle' onChange={handleSelectVehicle} required>\n                        <option value=\"\" disabled>VRN</option>\n                        {vehicles.map(vehicle => ( \n                            <option key={vehicle.vehicleId} value={vehicle.vehicleId}> {vehicle.vrn} </option>\n                        ))}\n                    </select>\n                </Form.Group>\n\n                <p className=\"w-100 text-center mt-2 mb-0\" id=\"error_Msg\">{error}</p>\n\n                <button disabled={loading} className=\"btn btn-dark w-100 mt-2\" type=\"submit\">Update</button>\n                \n\n                {confirmDeleteUser ? (\n                    <>\n                        <Popup open={openDeleteModal} closeOnDocumentClick onClose={() => setOpenDeleteModal(false)} className='Popup'>\n                            <div className='FollowModal'>\n                                <>\n                                    <div className='modalFollowHeader'>\n                                        <div>\n                                            <h3>Followers</h3>\n                                        </div>\n                                    </div> \n\n                                    <div className='line'></div>\n\n                                    <div className='modalFollowData'>\n                                        {followers.map((followers, index) => (\n                                            <div key={index} >\n                                                <p>{followers.followerName}</p>\n                                            </div>\n                                        ))}\n                                    </div>\n                                </>\n                            </div>\n                        </Popup>\n                        <p>Are you sure you want to delete <strong>{usernameRef.current.value}</strong> account?</p>\n                        <button disabled={loading} className=\"btn btn-outline-danger w-100 mt-2\" variant=\"danger\" onClick={handleDelete}>Confirm Delete</button>\n                    </>\n                ) :(\n                    <>\n                        <button disabled={loading} className=\"btn btn-outline-dark w-100 mt-2\" variant=\"danger\" type=\"submit\"  onClick={handleDelete}>Delete Account</button>\n                    </>\n                )}\n\n            </form>\n\n\n                \n            <div className=\"w-100 text-center mt-2\">\n                <Link to=\"/setting\">  Go Back Home</Link>\n            </div>\n        </div>\n  )\n}\n\nexport default UpdateProfile\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}