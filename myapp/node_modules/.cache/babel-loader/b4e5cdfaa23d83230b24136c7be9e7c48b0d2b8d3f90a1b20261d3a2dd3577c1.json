{"ast":null,"code":"import _regeneratorRuntime from\"/Users/sharusan/MeetMyCar/myapp/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/sharusan/MeetMyCar/myapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/sharusan/MeetMyCar/myapp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useRef}from'react';import{useNavigate}from'react-router-dom';import{useAuth}from'./AuthContext';import'./TitleBar_css.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TitleBar=function TitleBar(){var _useAuth=useAuth(),currentUser=_useAuth.currentUser;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),userid=_useState2[0],setuserId=_useState2[1];var searchUserName=useRef();var navigate=useNavigate();useEffect(function(){function fetchUserData(){return _fetchUserData.apply(this,arguments);}function _fetchUserData(){_fetchUserData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var firebaseUID,response,data,errorData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;// fetches the user data with firebase ID\nfirebaseUID=currentUser.uid;_context.next=4;return fetch(\"http://localhost:3001/users?userfb=\".concat(encodeURIComponent(firebaseUID)),{method:'GET',headers:{'accept':'application/json'}});case 4:response=_context.sent;if(!response.ok){_context.next=14;break;}_context.next=8;return response.json();case 8:data=_context.sent;// updates user's data states\nsetuserId(data.userData._id);console.log(\"Fetched User Details\");return _context.abrupt(\"return\",data);case 14:_context.next=16;return response.json();case 16:errorData=_context.sent;throw new Error(errorData.message);case 18:_context.next=23;break;case 20:_context.prev=20;_context.t0=_context[\"catch\"](0);console.error(\"Error Fetching User Data:\",_context.t0);case 23:case\"end\":return _context.stop();}},_callee,null,[[0,20]]);}));return _fetchUserData.apply(this,arguments);}fetchUserData();},[currentUser.uid]);// handles user search with username\nvar handleSearchUser=function handleSearchUser(){navigate(\"/profile/username/\".concat(searchUserName.current.value));console.log(searchUserName.current.value);};return/*#__PURE__*/_jsx(\"div\",{className:\"titlebar\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"titlebar_buttons\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSearchUser,children:[/*#__PURE__*/_jsx(\"input\",{type:\"search\",placeholder:\"Search...\",ref:searchUserName,required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",id:\"searchbtn\",children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"1.5em\",height:\"1.5em\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{d:\"m19.6 21l-6.3-6.3q-.75.6-1.725.95T9.5 16q-2.725 0-4.612-1.888T3 9.5q0-2.725 1.888-4.612T9.5 3q2.725 0 4.613 1.888T16 9.5q0 1.1-.35 2.075T14.7 13.3l6.3 6.3zM9.5 14q1.875 0 3.188-1.312T14 9.5q0-1.875-1.312-3.187T9.5 5Q7.625 5 6.313 6.313T5 9.5q0 1.875 1.313 3.188T9.5 14\"})})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return navigate(\"/profile/\".concat(userid));},children:\"\\uD83D\\uDE4D\\u200D\\u2642\\uFE0F\"})]})});};export default TitleBar;","map":{"version":3,"names":["React","useState","useEffect","useRef","useNavigate","useAuth","jsx","_jsx","jsxs","_jsxs","TitleBar","_useAuth","currentUser","_useState","_useState2","_slicedToArray","userid","setuserId","searchUserName","navigate","fetchUserData","_fetchUserData","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","firebaseUID","response","data","errorData","wrap","_callee$","_context","prev","next","uid","fetch","concat","encodeURIComponent","method","headers","sent","ok","json","userData","_id","console","log","abrupt","Error","message","t0","error","stop","handleSearchUser","current","value","className","children","onSubmit","type","placeholder","ref","required","id","xmlns","width","height","viewBox","d","onClick"],"sources":["/Users/sharusan/MeetMyCar/myapp/src/TitleBar.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport { useAuth } from './AuthContext'\n\nimport './TitleBar_css.css'\n\nconst TitleBar = () => {\n  const {currentUser} = useAuth()\n\n  const [userid, setuserId] = useState('')\n  const searchUserName = useRef()\n\n  const navigate = useNavigate()\n\n  useEffect(() => {\n    async function fetchUserData(){\n        // fetches current user data, and stores the data (id) into useState, to be used throughout the page.\n        try{\n            // fetches the user data with firebase ID\n            const firebaseUID = currentUser.uid;\n\n            const response = await fetch(`http://localhost:3001/users?userfb=${encodeURIComponent(firebaseUID)}`, {\n                method: 'GET',\n                headers: {\n                    'accept': 'application/json',\n                },\n            });\n\n            if (response.ok){\n                const data = await response.json()\n\n                // updates user's data states\n                setuserId(data.userData._id)\n\n                console.log(\"Fetched User Details\")\n                return data\n            } else{\n                const errorData = await response.json()\n                throw new Error(errorData.message)\n            }\n        }catch (error){\n            console.error(\"Error Fetching User Data:\", error)\n        }\n    }\n    fetchUserData();\n}, [currentUser.uid]);\n\n// handles user search with username\nconst handleSearchUser = () => {\n  navigate(`/profile/username/${searchUserName.current.value}`)\n  console.log(searchUserName.current.value)\n}\n\n  return (\n    <div className='titlebar'>\n      {/* TitleBar */}\n        <div className='titlebar_buttons'>\n            {/* Username Search Bar */}\n            <form onSubmit={handleSearchUser}>\n              <input type=\"search\" placeholder=\"Search...\" ref={searchUserName} required/>\n              <button type=\"submit\" id='searchbtn'><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1.5em\" height=\"1.5em\" viewBox=\"0 0 24 24\"><path d=\"m19.6 21l-6.3-6.3q-.75.6-1.725.95T9.5 16q-2.725 0-4.612-1.888T3 9.5q0-2.725 1.888-4.612T9.5 3q2.725 0 4.613 1.888T16 9.5q0 1.1-.35 2.075T14.7 13.3l6.3 6.3zM9.5 14q1.875 0 3.188-1.312T14 9.5q0-1.875-1.312-3.187T9.5 5Q7.625 5 6.313 6.313T5 9.5q0 1.875 1.313 3.188T9.5 14\"/></svg></button>\n            </form>\n            {/* Profile Button */}\n            <button onClick={() => navigate(`/profile/${userid}`)}>üôç‚Äç‚ôÇÔ∏è</button>        \n        </div>\n    </div>\n  )\n}\nexport default TitleBar\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}