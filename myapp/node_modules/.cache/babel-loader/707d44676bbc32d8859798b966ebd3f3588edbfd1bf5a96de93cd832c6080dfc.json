{"ast":null,"code":"import { NativeModules } from 'react-native';\nimport { initialiseNativeModuleEventEmitter } from './events';\nimport INTERNALS from './internals';\nconst NATIVE_MODULES = {};\n/**\n * Prepends all arguments in prependArgs to all native method calls\n * @param NativeModule\n * @param argToPrepend\n */\n\nconst nativeWithArgs = (NativeModule, argToPrepend) => {\n  const native = {};\n  const methods = Object.keys(NativeModule);\n  for (let i = 0, len = methods.length; i < len; i++) {\n    const method = methods[i];\n    if (typeof NativeModule[method] === 'function') {\n      native[method] = (...args) => NativeModule[method](...[...argToPrepend, ...args]);\n    } else {\n      native[method] = NativeModule[method];\n    }\n  }\n  return native;\n};\nconst nativeModuleKey = module => `${module._customUrlOrRegion || module.app.name}:${module.namespace}`;\nexport const getNativeModule = module => NATIVE_MODULES[nativeModuleKey(module)];\nexport const initialiseNativeModule = (module, config, customUrlOrRegion) => {\n  const {\n    moduleName,\n    hasMultiAppSupport,\n    hasCustomUrlSupport,\n    hasRegionsSupport,\n    namespace\n  } = config;\n  const nativeModule = NativeModules[moduleName];\n  const key = nativeModuleKey(module);\n  if (!nativeModule && namespace !== 'utils') {\n    throw new Error(INTERNALS.STRINGS.ERROR_MISSING_MODULE(namespace, moduleName));\n  } // used by the modules that extend ModuleBase\n  // to access their native module counterpart\n\n  const argToPrepend = [];\n  if (hasMultiAppSupport) {\n    argToPrepend.push(module.app.name);\n  }\n  if (hasCustomUrlSupport || hasRegionsSupport) {\n    argToPrepend.push(customUrlOrRegion);\n  }\n  if (argToPrepend.length) {\n    NATIVE_MODULES[key] = nativeWithArgs(nativeModule, argToPrepend);\n  } else {\n    NATIVE_MODULES[key] = nativeModule;\n  }\n  initialiseNativeModuleEventEmitter(module, config);\n  return NATIVE_MODULES[key];\n};","map":{"version":3,"names":["NativeModules","initialiseNativeModuleEventEmitter","INTERNALS","NATIVE_MODULES","nativeWithArgs","NativeModule","argToPrepend","native","methods","Object","keys","i","len","length","method","args","nativeModuleKey","module","_customUrlOrRegion","app","name","namespace","getNativeModule","initialiseNativeModule","config","customUrlOrRegion","moduleName","hasMultiAppSupport","hasCustomUrlSupport","hasRegionsSupport","nativeModule","key","Error","STRINGS","ERROR_MISSING_MODULE","push"],"sources":["/Users/sharusan/MeetMyCar/myapp/node_modules/react-native-firebase/dist/utils/native.js"],"sourcesContent":["import { NativeModules } from 'react-native';\nimport { initialiseNativeModuleEventEmitter } from './events';\nimport INTERNALS from './internals';\nconst NATIVE_MODULES = {};\n/**\n * Prepends all arguments in prependArgs to all native method calls\n * @param NativeModule\n * @param argToPrepend\n */\n\nconst nativeWithArgs = (NativeModule, argToPrepend) => {\n  const native = {};\n  const methods = Object.keys(NativeModule);\n\n  for (let i = 0, len = methods.length; i < len; i++) {\n    const method = methods[i];\n\n    if (typeof NativeModule[method] === 'function') {\n      native[method] = (...args) => NativeModule[method](...[...argToPrepend, ...args]);\n    } else {\n      native[method] = NativeModule[method];\n    }\n  }\n\n  return native;\n};\n\nconst nativeModuleKey = module => `${module._customUrlOrRegion || module.app.name}:${module.namespace}`;\n\nexport const getNativeModule = module => NATIVE_MODULES[nativeModuleKey(module)];\nexport const initialiseNativeModule = (module, config, customUrlOrRegion) => {\n  const {\n    moduleName,\n    hasMultiAppSupport,\n    hasCustomUrlSupport,\n    hasRegionsSupport,\n    namespace\n  } = config;\n  const nativeModule = NativeModules[moduleName];\n  const key = nativeModuleKey(module);\n\n  if (!nativeModule && namespace !== 'utils') {\n    throw new Error(INTERNALS.STRINGS.ERROR_MISSING_MODULE(namespace, moduleName));\n  } // used by the modules that extend ModuleBase\n  // to access their native module counterpart\n\n\n  const argToPrepend = [];\n\n  if (hasMultiAppSupport) {\n    argToPrepend.push(module.app.name);\n  }\n\n  if (hasCustomUrlSupport || hasRegionsSupport) {\n    argToPrepend.push(customUrlOrRegion);\n  }\n\n  if (argToPrepend.length) {\n    NATIVE_MODULES[key] = nativeWithArgs(nativeModule, argToPrepend);\n  } else {\n    NATIVE_MODULES[key] = nativeModule;\n  }\n\n  initialiseNativeModuleEventEmitter(module, config);\n  return NATIVE_MODULES[key];\n};"],"mappings":"AAAA,SAASA,aAAa,QAAQ,cAAc;AAC5C,SAASC,kCAAkC,QAAQ,UAAU;AAC7D,OAAOC,SAAS,MAAM,aAAa;AACnC,MAAMC,cAAc,GAAG,CAAC,CAAC;AACzB;AACA;AACA;AACA;AACA;;AAEA,MAAMC,cAAc,GAAGA,CAACC,YAAY,EAAEC,YAAY,KAAK;EACrD,MAAMC,MAAM,GAAG,CAAC,CAAC;EACjB,MAAMC,OAAO,GAAGC,MAAM,CAACC,IAAI,CAACL,YAAY,CAAC;EAEzC,KAAK,IAAIM,CAAC,GAAG,CAAC,EAAEC,GAAG,GAAGJ,OAAO,CAACK,MAAM,EAAEF,CAAC,GAAGC,GAAG,EAAED,CAAC,EAAE,EAAE;IAClD,MAAMG,MAAM,GAAGN,OAAO,CAACG,CAAC,CAAC;IAEzB,IAAI,OAAON,YAAY,CAACS,MAAM,CAAC,KAAK,UAAU,EAAE;MAC9CP,MAAM,CAACO,MAAM,CAAC,GAAG,CAAC,GAAGC,IAAI,KAAKV,YAAY,CAACS,MAAM,CAAC,CAAC,GAAG,CAAC,GAAGR,YAAY,EAAE,GAAGS,IAAI,CAAC,CAAC;IACnF,CAAC,MAAM;MACLR,MAAM,CAACO,MAAM,CAAC,GAAGT,YAAY,CAACS,MAAM,CAAC;IACvC;EACF;EAEA,OAAOP,MAAM;AACf,CAAC;AAED,MAAMS,eAAe,GAAGC,MAAM,IAAK,GAAEA,MAAM,CAACC,kBAAkB,IAAID,MAAM,CAACE,GAAG,CAACC,IAAK,IAAGH,MAAM,CAACI,SAAU,EAAC;AAEvG,OAAO,MAAMC,eAAe,GAAGL,MAAM,IAAId,cAAc,CAACa,eAAe,CAACC,MAAM,CAAC,CAAC;AAChF,OAAO,MAAMM,sBAAsB,GAAGA,CAACN,MAAM,EAAEO,MAAM,EAAEC,iBAAiB,KAAK;EAC3E,MAAM;IACJC,UAAU;IACVC,kBAAkB;IAClBC,mBAAmB;IACnBC,iBAAiB;IACjBR;EACF,CAAC,GAAGG,MAAM;EACV,MAAMM,YAAY,GAAG9B,aAAa,CAAC0B,UAAU,CAAC;EAC9C,MAAMK,GAAG,GAAGf,eAAe,CAACC,MAAM,CAAC;EAEnC,IAAI,CAACa,YAAY,IAAIT,SAAS,KAAK,OAAO,EAAE;IAC1C,MAAM,IAAIW,KAAK,CAAC9B,SAAS,CAAC+B,OAAO,CAACC,oBAAoB,CAACb,SAAS,EAAEK,UAAU,CAAC,CAAC;EAChF,CAAC,CAAC;EACF;;EAGA,MAAMpB,YAAY,GAAG,EAAE;EAEvB,IAAIqB,kBAAkB,EAAE;IACtBrB,YAAY,CAAC6B,IAAI,CAAClB,MAAM,CAACE,GAAG,CAACC,IAAI,CAAC;EACpC;EAEA,IAAIQ,mBAAmB,IAAIC,iBAAiB,EAAE;IAC5CvB,YAAY,CAAC6B,IAAI,CAACV,iBAAiB,CAAC;EACtC;EAEA,IAAInB,YAAY,CAACO,MAAM,EAAE;IACvBV,cAAc,CAAC4B,GAAG,CAAC,GAAG3B,cAAc,CAAC0B,YAAY,EAAExB,YAAY,CAAC;EAClE,CAAC,MAAM;IACLH,cAAc,CAAC4B,GAAG,CAAC,GAAGD,YAAY;EACpC;EAEA7B,kCAAkC,CAACgB,MAAM,EAAEO,MAAM,CAAC;EAClD,OAAOrB,cAAc,CAAC4B,GAAG,CAAC;AAC5B,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}